@page
@model IndexModel
@{
    ViewData["Title"] = "Home Page";
}

@*CSS*@
<style>
    h1 {
        color: #333;
    }

    .heroContainer {
        display: flex;
        flex-direction: column;
        margin: 0 auto;
    }

        .heroContainer p {
            margin-bottom: 30px;
        }

    .secondBox {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
        max-width: 400px;
    }

    .secondBox > button {
        border-radius: 3px;
        cursor: pointer;

    }

    .startBtn {
        background-color: green;
        font-weight: bold;
    }

    .stopBtn {
        background-color: red;
        font-weight: bold;
    }

    .continueBtn {
        background-color: coral;
        font-weight: bold;
    }

</style>

@*HTML*@

<h1>Monitor tab</h1>


<div class="heroContainer">

    @*Dropdown for batch ID*@
    <div class="dropDownBatch">
        <label for="batch-id">Choose your batch ID:</label>
        <select name="batch-id" id="batch-id">
            <option value="1">Batch ID 1</option>
            <option value="2">Batch ID 2</option>
            <option value="3">Batch ID 3</option>
        </select>
       
    </div>

    @*Monitoring*@
    <p>Type</p>
    <p>Successfull/Failed Batch</p>
    <p>Products Produced</p>
    <p>Quantity</p>
    <p>Successful Amount</p>
    <p>Production Speed</p>
    <p>Speed</p>
    <p>Failed amount</p>

    <label for="stop_reason">Stop Reason:</label>
    <p id="stop_reason"></p>

    <script>
        //This function fetches the stop reason from the server
        function get_Stop_Reason() {
            
            fetch('//BeerMachineAPI/stop_Reasons')
                .then(response => response.text())
                .then(stop_Reason => {
                    //This part updates the text for the stop reason. 
                    document.getElementById('stop_reason').innerText = stop_Reason;
                })
                .catch(error => console.error('Error fetching Stop Reason:', error));
        }

        //This part calls the function whenn the page is loaded or reloaded. 
        window.onload = get_Stop_Reason;
    </script>


    @*Start, stop, continue buttons*@
    <div class="secondBox">
        <button class="startBtn">Start</button>
        <button class="stopBtn">Stop</button>
        <button class="continueBtn">Continue</button>
    </div>

</div>

